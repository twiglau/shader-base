# 法线的作用是什么?  
1. 光照计算的反射的时候都要用到法线, 它是光照计算中非常重要的数据;  
2. 光照计算, 光照的反射 => 效果影响而言也是非常重要的;  

# 片元着色计算光照的时候法线如何来的?  
1. 着色点(片元点)在计算光照法线是怎么来的呢? -> 渲染管线 -> 三角形顶点的法线,插值而来的;
2. 如果对于平滑的物体, 可能影响不大, 但是对于那些细节比较细腻的这样的模型,细节表现就会不好;
3. 解决方法?  
> 把模型做精致 -> 增加面数的表达 -> 性能消耗比较大;
> 细节增强: -法线贴图的技术; 建模的时候, 建立一个 `低模`, 建立一个 `高模`
>> 贴图的时候 RGBA, 颜色分量(x,y,z,w) -> 法线(x, y, z) -> 归一化 (-1 <= x <= 1).
>> 得到: 法线贴图 => 模型上面, 片元的 uv 坐标 => 寻址到我们的高模的法线数据;  
>> 低模 + 高模的法线数据 * 光照计算 -> 真实的细节;

# Shader代码里面如何获取法线数据? [-1, 1]*0.5 + 0.5 -> [0,1] -> [0, 1]*2 -1 -> [-1, 1] 
* RGBA -> 分量(0~255) -> RGBA(0~1)
* `UnpackNormal` 算法 : 还原法线范围
```
color(x,y,z,w)(0~1) -> x*2 -1;
```   
* 压缩范围:
> 法线 -> 向量 -> 归一化, 根据 x, y; 计算出 z;
```
// 引擎提供API
x^2 + y^2 + z^2 = 1; //算法
```  